#include <stdio.h>
#include <stdarg.h>

int my_printf(const char *format, ...)
{
va_list args;
va_start(args, format);

while(*format)
{
if (format == '%')
{
format++;
/* the flags */

int flag_plus = 0;
int flag_space = 0;
int flag_hash = 0;

/* finding the flags
while (format == '+' || format == ' ' || format == '-')
{
if (format == '+')
{
flag_plus = 1;
}
else if (format == ' ')
{
flag_space = 1;
}
else if (format == '-')
{
flag_ space = 1;
}
format++;
}

//Checking for length modifires

int long_flag = 0;
int short_flag = 0;

while (format == 'l' || format == 'h')
{
if (format == 'l')
{
long_flag++;
}
else if (format == 'h')
{
short_flag++;
}
}

// checking for the specifires

while (format == 'd' || format == 'i')
{
int num;
if (long_fag == 1)
{
num = va_arg(args, long int)
}
else
{
num = va_arg(args, int);
}

//adding the flags
if (flag_plus && num >= 0)
count += printf("+");
else if (flag_space && num >= 0)
count += printf(" ");

count += printf("%d", num);

}

else if (format == 'x')
{
int num = va_arg(args, int);

// adding the flags
if(flag_hash)
{
count += printf("0x);

count += printf("%x", num);
}
}
else if  (format == 'o')
{
int num = va_arg(args, int)

//adding the flags
if (flag_hash)
{
count += printf("0");

count += printf("%o", num);
}
}
else
{
printf("%");;
count++;
}
format++;
}
va_end(args);
return (count);
}
